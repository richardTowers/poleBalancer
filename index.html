<!doctype html>
<html>
	<head>
		<meta charset="utf-8"> 
		<title>Balance the pole!</title>
		<link rel="stylesheet" href="styles/lib/bootstrap.min.css">
		<link rel="stylesheet" href="styles/pole.css">
		<link rel="stylesheet" href="styles/lib/codemirror.css">
	</head>
	<body>
		<div class="navbar navbar-fixed-top">
			<div class="navbar-inner">
				<a class="brand" href="/">richard-towers.com</a>
			</div>
		</div>
		<div class="container">
			<h1>The Pole Balancing Problem</h1>
			<p>The pole balancing problem is a classic in control theory. The case I've set up here is very simple, push the cart left or right in order to balance the pole.</p>
			<p>You can also write some code in the editor below to control the motiion of the pole. A good controller should be able to keep the pole
				balanced and the cart central, even if you nudge it with <kbd>left</kbd> or <kbd>right</kbd>.</p>
			<h3>Instructions</h3>
			<p>Write some JavaScript to keep the poll upright and the cart central for as long as possible. You can nudge the cart with <kbd>left</kbd> and <kbd>right</kbd> (on the keyboard or the buttons). Click start to get going.</p>
			<canvas id="cart">
				<figure>
					<img src="http://i.imgur.com/bbPeN.jpg" alt="Grumpy cat." title="Sorry!">
					<figcaption>Sorry, your browser doesn't support canvas. We don't need your sort here.</figcaption>
				</figure>
			</canvas>
			
			<fieldset>
				<input type="button" class="btn btn-success" value="left" id="left" disabled>
				<input type="button" class="btn btn-large btn-primary" value="Start" id="start">
				<input type="button" class="btn btn-success" value="right" id="right" disabled>
			</fieldset>
			
<textarea id="code" cols="30" rows="10">// Your code will be called on each timestep.
// You can use the following variables:
//      angle (in radians, 0 is vertical)
//      angleRate (in radians per second)
//      cartPosition (in pixels, 0 is the center)
//      cartVelocity (in pixels per second)
// Simply return a force to apply to the cart. Negative to push it left, positive to push it right.

// If you need to hold on to some state you can use the global `state` variable. For example:
//      if(typeof state.counter === "undefined") { state.counter = 0; }
//      state.counter++;

// You're also free to use methods like console.log() to help you out, if your browser supports them.

// Trivial example:
return 0;</textarea>
		</div>
		<div id="failModal" class="modal hide" tabindex="-1" role="dialog" aria-hidden="true">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
				<h3 id="myModalLabel">You fail it!</h3>
			</div>
			<div class="modal-body">
				<h4>Your skill is not enough, see you next time, bye-bye!</h4>
				<p>You lasted <span class="failTime"></span> seconds.</p>
			</div>
			<div class="modal-footer">
				<button class="btn btn-danger" data-dismiss="modal" aria-hidden="true">Close</button>
			</div>
		</div>
		<div id="errorModal" class="modal hide" tabindex="-1" role="dialog" aria-hidden="true">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
				<h3 id="myModalLabel">You fail it!</h3>
			</div>
			<div class="modal-body">
				<h4>Your skill is not enough, see you next time, bye-bye!</h4>
				<p>Your code errored after <span class="failTime"></span> seconds.</p>
				<code id="errorInfo"></code>
			</div>
			<div class="modal-footer">
				<button class="btn btn-danger" data-dismiss="modal" aria-hidden="true">Close</button>
			</div>
		</div>
		<script src="scripts/lib/jquery.js"></script>
		<script src="scripts/lib/codemirror.js"></script>
		<script src="scripts/lib/javascript/javascript.js"></script>
		<script src="scripts/lib/bootstrap.min.js"></script>
		<script src="scripts/pole.js"></script>
	</body>
</html>